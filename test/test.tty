#! /bin/sh
#
# test.tty - run udev(8) on each tty device in /sys/class/tty

if [ $# = "0" ] ; then
	echo
	echo "usage: $0 <action>"
	echo "where <action> is \"add\" or \"remove\""
	echo
	exit 1
fi

SYSFSDIR=/sys		# change this for a nonstand sysfs mount point
BIN=../udev		# location of your udev binary
export ACTION=$1	# 'add' or 'remove'

for i in ${SYSFSDIR}/class/tty/*; do
	export DEVPATH=${i#${SYSFSDIR}}
	$BIN tty
done
